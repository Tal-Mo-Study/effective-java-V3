# Item29. 이왕이면 제네릭 타입으로 만들라

[메인페이지 이동](../README.md)

```
1. 중첩클래스란
2. 정적 멤버 클래스
3. 비정적 멤버 클래스
4. 익명 클래스
5. 지역 클래스
```

## 1. 제네릭을 사용하지 않은 클래스

---

### [소스 보기](./java//Item_29_1.java) </br></br></br>

> 이 클래스는 원래 제네릭 타입이어야 마땅하다. 

>이 클래스를 제네릭으로 바꾼다고 해도 현재 버전을 사용하는 클라이언트에는 아무런 해가 없다.

## 2. Object 배열 생성하고 제네릭 배열로 형변환

---

### [소스 보기](./java//Item_29_2.java) </br></br></br>

> 가독성이 더 좋다. 배열의 타입을 E[]로 선언하며 E 타입 인스턴스만 받읆을 어필한다. 형변환을 배열 생성시에만 해주면 된다.

> (E가 Object)가 아닌한 배열의 런타임 타입이 컴파일타임 타입과 달라 힙 오염을 일으킨다.

## 3. elements 필드의 타입을 E[]에서 Object[]로 변경

---

### [소스 보기](./java//Item_29_3.java) </br></br></br>

> 컴파일러가 런타임에 이뤄지는 형변환이 안전한지 알 수없다.

> 형변환을 원소를 읽을때마다 해줘야 한다.

## 결론

---

> 기존 타입 중 제네릭이었어야 하는게 있다면 제네릭 타입으로 변경하자. 기존 클라이언트에는 아무 영향을 주지 않으면서, 새로운 사용자를 편하게 해주는 길이다.