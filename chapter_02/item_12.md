# Item12. toString을 항상 재정의하라

[메인페이지 이동](../README.md)

```
모든 구체 클래스에서 Object의 toString을 재정의하자.
상위 클래스에서 이미 알맞게 재정의한 경우는 예외다.
toString을 재정의한 클래스는 사용하기도 즐겁고 그 클래스를 사용한 시스템을 디버깅 하기 쉽게 해준다.
toStirng은 해당 객체에 관한 명확하고 유용한 정보를 읽기 좋은 형태로 반환해야한다.
```

## Object의 toString() - PhoneNumber@abcde 처럼 단순히 클래스이름@16진수해시코드를 반환한다.

---

> 해당 내용도 간결하고 읽기 쉽다고 볼 수도 있지만 010-xxxx-xxxx와 같이 전화번호를 직접 알려주는 형태가 훨씬 유익하다. </br>
> toString을 잘 구현한 클래스는 해당 객체의 내용을 확인하기 훨씬 쉽기 때문에 디버깅할때도 유용하게 사용 할 수 있다.</br>
> toString을 재정의 하지 않았다면 쓸모없는 메시지만 로그에 남을것이다!

```
# PhoneNumber라는 클래스의 toString을 잘 재정의하면 아래와같은 로그를 남겼을때 충분한 메시지를 담을 수 있다.
logger.info("PhoneNumber = {}", phoneNumber);


-> PhoneNumber = 010-1234-5678
```

</br>

## toString의 반환 포멧 지정 유무에 따른 효과

---

> 포멧을 지정해서 리턴해준다면 그 값을 그대로 입출력에 사용하거나 CSV파일 처럼 사람이 읽을 수 있는 데이터 객체로 저장 할 수도있다.</br>
> 명시한 포멧에 맞는 문자열과 객체를 상호 전환 할 수 있는 정적 팩터리나 생성자를 함께 제공해주면 좋다.</br>
> 대표적으로 BigInteger, BigDecimal과 대부분의 기본 타입 클래스가 여기 해당한다.

```
#포멧을 지정해서 사용하는 방식의 예

/**
* 이 전화번호의 문자열 표현을 반환한다.
* 이 문자열은 "XXX-YYY-ZZZZ"형태의 12글자로 구성된다.
* XXX는 지역코드, YYY는 프리픽스, ZZZZ는 가입자 번호다.
* 각자의 대문자는 10진수 숫자 하나를 나타낸다.
*
* 전화번호의 각 부분의 값이 너무 작아서 자릿수를 채울 수 없다면,
* 앞에서부터 0으로 채워나간다. 예컨데 가입자 번호가 123이라면
* 전화번호의 마지막 네문자는 "0123"이된다.
*/

@Override
public String toString(){
  return String.format("%03d-%03d-%04d", areaCode, prefix, lineNum);
}
```

> 포멧을 명시하지 않기로 했다면 향후 릴리스에서 정보를 더 넣거나 포맷을 개선 할 수 있는 유연성을 확보하게 되며</br>
> 관련된 기능을 개발하는 프로그래머는 나중에 추가 개발을 잘 하면 된다.

```
#포멧을 지정하지 않는 사용 방법의 예

/**
* 이 약물에 관한 대략적인 설명을 반환한다.
* 다음은 이 설명의 일반적인 형태이나,
* 상세 형식은 정해지지 않았으며 향후 변경될 수 있다.
*
* "[약물 #9: 유형=사랑,  냄새=테레빈유, 겉모습=먹물]"
*/

@Override
public String toString(){...};
```

</br>

## 포멧 명시에 상관없이 toString이 반환한 갑3ㅅ에 포함된 정보를 얻어 올 수 있는 API를 제공하자

---

> 그렇지 않으면 이 정보가 필요한 프로그래머는 toString의 반환값을 파싱하여 사용 할 수밖에 없다.</br>
> 그렇게 되면 성능이 아빠지고, 필요하지 않은 작업을 하게되며 향후 포멧을 바꾸면 시스템이 망가지는 결과를 초래 할 수있다.
